{% load i18n %}

<div class="aldryn aldryn-people">
    {% if not people_groups %}
        {# if grouping is disabled, list only people #}
        <div class="aldryn-people-list">
            {% for person in people %}
                {% include "aldryn_people/includes/person.html" with person=person %}
            {% endfor %}
        </div>
    {% else %}
        {# if enabled, we group the people by categories defined #}
        <div class="aldryn-people-list-group">
            {% language instance.language %}
                {# IMPORTANT: first show people with a group #}
                {% for group, people_list in people_groups.items %}
                    {% if group.name %}
                        {% include "aldryn_people/includes/group.html" %}
                        <div class="row">
                          {% for person in people_list %}
                            <div class="col-md-6">
                              {% include "aldryn_people/includes/person.html" with person=person group="true" %}
                            </div>
                          {% endfor %}
                        </div>
                    {% endif %}
                {% endfor %}
                {# IMPORTANT: and than the remaining, if any #}
                {% if groupless_people.count %}
                    <div class="heading-title-alt text-left ">
                        <h4 class="text-uppercase">{% trans "Ungrouped" %}</h4>
                    </div>
                    <div class="row">
                      {% for person in groupless_people.all %}
                        <div class="col-md-6">
                          {% include "aldryn_people/includes/person.html" with person=person group="true" %}
                        </div>
                      {% endfor %}
                    </div>
                {% endif %}
            {% endlanguage %}
        </div>
    {% endif %}
</div>
